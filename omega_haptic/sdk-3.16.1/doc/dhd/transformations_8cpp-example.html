<!-- HTML header for doxygen 1.8.13-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Haptic SDK: transformations.cpp</title>
<title>transformations.cpp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top">
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><a href="index.html"><img alt="Logo" src="logo_color_tiny.png"/></a></td>
  <td id="projectalign" style="padding-left: 0.5em;">
  </td>
    <td style="padding-left: 0.5em;">
    <div id="projectbrief"></div>
    </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">transformations.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span><span class="comment">//</span></div>
<div class="line"><span class="comment">//  Copyright (C) 2001-2023 Force Dimension, Switzerland.</span></div>
<div class="line"><span class="comment">//  All Rights Reserved.</span></div>
<div class="line"><span class="comment">//</span></div>
<div class="line"><span class="comment">//  Force Dimension SDK 3.16.1</span></div>
<div class="line"><span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// This example illustrates how link a virtual frame position and rotation to</span></div>
<div class="line"><span class="comment">/// a Force Dimension haptic device end-effector position and rotation. The link</span></div>
<div class="line"><span class="comment">/// between the virtual frame and the haptic device end-effector is enabled</span></div>
<div class="line"><span class="comment">/// using the user button mounted on the haptic device end-effector.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">// C++ library headers</span></div>
<div class="line"><span class="preprocessor">#define _USE_MATH_DEFINES</span></div>
<div class="line"><span class="preprocessor">#include &lt;algorithm&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;cmath&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iomanip&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Platform specific headers</span></div>
<div class="line"><span class="preprocessor">#if defined(WIN32) || defined(WIN64)</span></div>
<div class="line"><span class="preprocessor">#define NOMINMAX</span></div>
<div class="line"><span class="preprocessor">#include &quot;windows.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// GLU library headers</span></div>
<div class="line"><span class="preprocessor">#ifdef MACOSX</span></div>
<div class="line"><span class="preprocessor">#include &quot;OpenGL/glu.h&quot;</span></div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"><span class="preprocessor">#include &quot;GL/glu.h&quot;</span></div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Force Dimension SDK library header</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="dhdc_8h.html">dhdc.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// GLFW library header</span></div>
<div class="line"><span class="preprocessor">#include &lt;GLFW/glfw3.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// CHAI3D geometry and math library headers</span></div>
<div class="line"><span class="preprocessor">#include &quot;CGeometry.h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="comment">// Project headers</span></div>
<div class="line"><span class="preprocessor">#include &quot;FontGL.h&quot;</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// Constants</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><span class="comment">/// GLFW swap interval setting</span></div>
<div class="line"><span class="comment"></span>constexpr <span class="keywordtype">int</span> SwapInterval = 1;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// Global variables</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Simulation running flag</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">bool</span> simulationRunning = <span class="keyword">true</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Simulation closing synchronization flag</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">bool</span> simulationFinished = <span class="keyword">false</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Haptic device position</span></div>
<div class="line"><span class="comment"></span>chai3d::cVector3d devicePosition;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Haptic device rotation</span></div>
<div class="line"><span class="comment"></span>chai3d::cMatrix3d deviceRotation;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Haptic device gripper angle in [deg]</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">double</span> deviceGripperAngleDeg = 0.0;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Haptic device linear velocity [m/s]</span></div>
<div class="line"><span class="comment"></span>chai3d::cVector3d deviceLinearVelocity;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Haptic device angular velocity in [rad/s]</span></div>
<div class="line"><span class="comment"></span>chai3d::cVector3d deviceAngularVelocity;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Haptic device input switches state</span></div>
<div class="line"><span class="comment"></span>uint32_t deviceSwitches = 0x00000000;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Force to render on the haptic device in [N]</span></div>
<div class="line"><span class="comment"></span>chai3d::cVector3d deviceForce;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Torque to render on the haptic device in [Nm]</span></div>
<div class="line"><span class="comment"></span>chai3d::cVector3d deviceTorque;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Force to render on the haptic device gripper in [N]</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">double</span> deviceGripperForce = 0.0;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Haptic device roll angle in [rad]</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">double</span> deviceRollAngleRad = 0.0;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Haptic device force/torque saturation flag</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">bool</span> flagSaturation = <span class="keyword">false</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Hold position constraint</span></div>
<div class="line"><span class="comment"></span>chai3d::cVector3d holdPosition;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Hold rotation constraint</span></div>
<div class="line"><span class="comment"></span>chai3d::cMatrix3d holdRotation;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Hold position constraint flag</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">bool</span> flagHoldPosition = <span class="keyword">false</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Hold position constraint safety flag</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">bool</span> flagHoldPositionReady = <span class="keyword">false</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Virtual frame position</span></div>
<div class="line"><span class="comment"></span>chai3d::cVector3d framePosition;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Virtual frame rotation</span></div>
<div class="line"><span class="comment"></span>chai3d::cMatrix3d frameRotation;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Device to virtual frame transformation</span></div>
<div class="line"><span class="comment"></span>chai3d::cTransform device_T_frame;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// Virtual frame lock flag</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">bool</span> flagMoveFrame = <span class="keyword">false</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// GLFW window handle</span></div>
<div class="line"><span class="comment"></span>GLFWwindow* window = <span class="keyword">nullptr</span>;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// GLFW window width in [pixel]</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">int</span> windowWidth = 0;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">/// GLFW window height in [pixel]</span></div>
<div class="line"><span class="comment"></span><span class="keywordtype">int</span> windowHeight = 0;</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// This function renders the scene using OpenGL.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="keywordtype">int</span> updateGraphics()</div>
<div class="line">{<span class="comment"></span></div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Initialize rendering</span></div>
<div class="line">    <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">    GLUquadricObj *sphere;</div>
<div class="line">    chai3d::cTransform mat;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize the OpenGL settings.</span></div>
<div class="line">    glClear(GL_COLOR_BUFFER_BIT | GL_DEPTH_BUFFER_BIT);</div>
<div class="line">    glEnable(GL_DEPTH_TEST);</div>
<div class="line">    glClearColor(0.0, 0.0, 0.0, 1.0);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Haptic device rendering</span></div>
<div class="line">    <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">    <span class="comment">// Display the haptic device.</span></div>
<div class="line">    mat.set(devicePosition, deviceRotation);</div>
<div class="line">    glPushMatrix();</div>
<div class="line">    glMultMatrixd((<span class="keyword">const</span> <span class="keywordtype">double</span> *)mat.getData());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Render a sphere.</span></div>
<div class="line">    glEnable(GL_COLOR_MATERIAL);</div>
<div class="line">    glColor3f(0.5f, 0.5f, 0.5f);</div>
<div class="line">    sphere = gluNewQuadric();</div>
<div class="line">    gluSphere(sphere, 0.005, 32, 32);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Render a frame.</span></div>
<div class="line">    glDisable(GL_LIGHTING);</div>
<div class="line">    glBegin(GL_LINES);</div>
<div class="line">    glColor3f(1.0f, 0.0f, 0.0f);</div>
<div class="line">    glVertex3d(0.00, 0.00, 0.00);</div>
<div class="line">    glVertex3d(0.02, 0.00, 0.00);</div>
<div class="line">    glColor3f(0.0f, 1.0f, 0.0f);</div>
<div class="line">    glVertex3d(0.00, 0.00, 0.00);</div>
<div class="line">    glVertex3d(0.00, 0.02, 0.00);</div>
<div class="line">    glColor3f(0.0f, 0.0f, 1.0f);</div>
<div class="line">    glVertex3d(0.00, 0.00, 0.00);</div>
<div class="line">    glVertex3d(0.00, 0.00, 0.02);</div>
<div class="line">    glEnd();</div>
<div class="line">    glEnable(GL_LIGHTING);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Render the gripper.</span></div>
<div class="line">    glDisable(GL_LIGHTING);</div>
<div class="line">    glBegin(GL_LINE_STRIP);</div>
<div class="line">    glColor3f(1.0f, 1.0f, 1.0f);</div>
<div class="line">    glVertex3d(0.0, 0.0, 0.0);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> index = -10; index &lt;= 10; index++)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">double</span> angle = 0.1 * (double)(index) * deviceGripperAngleDeg;</div>
<div class="line">        <span class="keywordtype">double</span> px = 0.1 * chai3d::cCosDeg(angle);</div>
<div class="line">        <span class="keywordtype">double</span> py = 0.1 * chai3d::cSinDeg(angle);</div>
<div class="line">        glVertex3d(-px, py, 0.0);</div>
<div class="line">    }</div>
<div class="line">    glVertex3d(0.0, 0.0, 0.0);</div>
<div class="line">    glColor3f(0.5f, 0.5f, 0.5f);</div>
<div class="line">    glVertex3d(-0.1, 0.0, 0.0);</div>
<div class="line">    glEnd();</div>
<div class="line">    glEnable(GL_LIGHTING);</div>
<div class="line">    glPopMatrix();</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    ///////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Virtual frame rendering</span></div>
<div class="line">    <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">    ///////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">    <span class="comment">// Display virtual object frame.</span></div>
<div class="line">    mat.set(framePosition, frameRotation);</div>
<div class="line">    glPushMatrix();</div>
<div class="line">    glMultMatrixd((<span class="keyword">const</span> <span class="keywordtype">double</span> *)mat.getData());</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Render sphere.</span></div>
<div class="line">    glEnable(GL_COLOR_MATERIAL);</div>
<div class="line">    glColor3f(0.5f, 0.5f, 0.5f);</div>
<div class="line">    sphere = gluNewQuadric();</div>
<div class="line">    gluSphere(sphere, 0.01, 32, 32);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Render frame.</span></div>
<div class="line">    glDisable(GL_LIGHTING);</div>
<div class="line">    glBegin(GL_LINES);</div>
<div class="line">    glColor3f(1.0f, 0.0f, 0.0f);</div>
<div class="line">    glVertex3d(0.00, 0.00, 0.00);</div>
<div class="line">    glVertex3d(0.04, 0.00, 0.00);</div>
<div class="line">    glColor3f(0.0f, 1.0f, 0.0f);</div>
<div class="line">    glVertex3d(0.00, 0.00, 0.00);</div>
<div class="line">    glVertex3d(0.00, 0.04, 0.00);</div>
<div class="line">    glColor3f(0.0f, 0.0f, 1.0f);</div>
<div class="line">    glVertex3d(0.00, 0.00, 0.00);</div>
<div class="line">    glVertex3d(0.00, 0.00, 0.04);</div>
<div class="line">    glEnd();</div>
<div class="line">    glEnable(GL_LIGHTING);</div>
<div class="line"> </div>
<div class="line">    glPopMatrix();</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Render a line between the virtual frame and the device.</span></div>
<div class="line">    <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">    glDisable(GL_LIGHTING);</div>
<div class="line">    glBegin(GL_LINES);</div>
<div class="line">    glColor3f(0.5f, 0.5f, 0.5f);</div>
<div class="line">    glVertex3d(devicePosition(0), devicePosition(1), devicePosition(2));</div>
<div class="line">    glVertex3d(framePosition(0), framePosition(1), framePosition(2));</div>
<div class="line">    glEnd();</div>
<div class="line">    glEnable(GL_LIGHTING);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Refresh rate rendering</span></div>
<div class="line">    <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">double</span> lastFrequencyUpdateTime = <a name="a0"></a><a class="code" href="dhdc_8h.html#ad88cff8031c7975479332a9a58aca158">dhdGetTime</a>();</div>
<div class="line">    <span class="keyword">static</span> <span class="keywordtype">char</span> frequencyString[16] = <span class="stringliteral">&quot;0.000 kHz&quot;</span>;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Periodically update the haptic refresh rate.</span></div>
<div class="line">    <span class="keywordtype">double</span> time = <a class="code" href="dhdc_8h.html#ad88cff8031c7975479332a9a58aca158">dhdGetTime</a>();</div>
<div class="line">    <span class="keywordflow">if</span> (time - lastFrequencyUpdateTime &gt; 0.1)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">double</span> frequency = <a name="a1"></a><a class="code" href="dhdc_8h.html#a076243abe321a97f4ea022b8bbcb3503">dhdGetComFreq</a>();</div>
<div class="line">        lastFrequencyUpdateTime = time;</div>
<div class="line">        snprintf(frequencyString, 10, <span class="stringliteral">&quot;%0.03f kHz&quot;</span>, frequency);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Render the string.</span></div>
<div class="line">    glDisable(GL_LIGHTING);</div>
<div class="line">    glColor3f(1.0, 1.0, 1.0);</div>
<div class="line">    glRasterPos3f(0.0f, -0.01f, -0.1f);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">char</span>* character = frequencyString; *character != <span class="charliteral">&#39;\0&#39;</span>; character++)</div>
<div class="line">    {</div>
<div class="line">        render_character(*character, HELVETICA12);</div>
<div class="line">    }</div>
<div class="line">    glEnable(GL_LIGHTING);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Switches status rendering</span></div>
<div class="line">    <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">    <span class="comment">// Render the status of the switches.</span></div>
<div class="line">    glDisable(GL_LIGHTING);</div>
<div class="line">    glColor3f(1.0, 1.0, 1.0);</div>
<div class="line">    glRasterPos3f(0.0f, -0.03f, 0.1f);</div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> index = 0; index &lt; 16; index++)</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Display bit status.</span></div>
<div class="line">        <span class="keywordflow">if</span> (chai3d::cCheckBit(deviceSwitches, index))</div>
<div class="line">        {</div>
<div class="line">            render_character(<span class="charliteral">&#39;1&#39;</span>, HELVETICA12);</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            render_character(<span class="charliteral">&#39;0&#39;</span>, HELVETICA12);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Display space character.</span></div>
<div class="line">        render_character(<span class="charliteral">&#39; &#39;</span>, HELVETICA12);</div>
<div class="line">    }</div>
<div class="line">    glEnable(GL_LIGHTING);</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>    <span class="comment">//</span></div>
<div class="line">    <span class="comment">// Finalize rendering</span></div>
<div class="line">    <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">    ////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">    <span class="comment">// Report any issue.</span></div>
<div class="line">    GLenum err = glGetError();</div>
<div class="line">    <span class="keywordflow">if</span> (err != GL_NO_ERROR)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Report success.</span></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// This function implements the haptics loop.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// \param a_userData</span></div>
<div class="line"><span class="comment">/// Pointer to user data passed to the haptic thread</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// \return</span></div>
<div class="line"><span class="comment">/// A pointer to a return data structure</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="keywordtype">void</span>* hapticsLoop(<span class="keywordtype">void</span>* a_userData)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Allocate and initialize haptic loop variables.</span></div>
<div class="line">    <span class="keywordtype">double</span> px = 0.0;</div>
<div class="line">    <span class="keywordtype">double</span> py = 0.0;</div>
<div class="line">    <span class="keywordtype">double</span> pz = 0.0;</div>
<div class="line">    <span class="keywordtype">double</span> rot[3][3] = {};</div>
<div class="line">    <span class="keywordtype">double</span> vx = 0.0;</div>
<div class="line">    <span class="keywordtype">double</span> vy = 0.0;</div>
<div class="line">    <span class="keywordtype">double</span> vz = 0.0;</div>
<div class="line">    <span class="keywordtype">double</span> wx = 0.0;</div>
<div class="line">    <span class="keywordtype">double</span> wy = 0.0;</div>
<div class="line">    <span class="keywordtype">double</span> wz = 0.0;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Enable force rendering on the haptic device.</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a2"></a><a class="code" href="dhdc_8h.html#a178cf9ffa46dfe3d25dda74ecb34da31">dhdEnableForce</a>(<a name="a3"></a><a class="code" href="dhdc_8h.html#ac60746c35e60ad4c5533dec253a341f1">DHD_ON</a>) &lt; 0)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;error: failed to enable force rendering (&quot;</span> &lt;&lt; <a name="a4"></a><a class="code" href="dhdc_8h.html#aa493832a39c7e31b44752bda5d601209">dhdErrorGetLastStr</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        simulationRunning = <span class="keyword">false</span>;</div>
<div class="line">        <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Run the haptic loop.</span></div>
<div class="line">    <span class="keywordflow">while</span> (simulationRunning)</div>
<div class="line">    {<span class="comment"></span></div>
<div class="line"><span class="comment">        ////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Retrieve haptic device data.</span></div>
<div class="line">        <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">        ////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">        <span class="comment">// Retrieve the haptic device position and rotation.</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a5"></a><a class="code" href="dhdc_8h.html#a4e6e5502f908607bfdf1e017d7fa76ec">dhdGetPositionAndOrientationFrame</a>(&amp;px, &amp;py, &amp;pz, rot) &lt; <a name="a6"></a><a class="code" href="dhdc_8h.html#a9a0134b031864add74e6b856f70ee950ab20fde5acabe7cdc218a75b428ccb782">DHD_NO_ERROR</a>)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;error: failed to read position (&quot;</span> &lt;&lt; <a class="code" href="dhdc_8h.html#aa493832a39c7e31b44752bda5d601209">dhdErrorGetLastStr</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        devicePosition.set(px, py, pz);</div>
<div class="line">        deviceRotation.set(rot[0][0], rot[0][1], rot[0][2],</div>
<div class="line">                           rot[1][0], rot[1][1], rot[1][2],</div>
<div class="line">                           rot[2][0], rot[2][1], rot[2][2]);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Read the gripper angle.</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a7"></a><a class="code" href="dhdc_8h.html#a0d6e8910c43db85d70851460eaf999f4">dhdGetGripperAngleDeg</a>(&amp;deviceGripperAngleDeg) &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;error: failed to read gripper angle (&quot;</span> &lt;&lt; <a class="code" href="dhdc_8h.html#aa493832a39c7e31b44752bda5d601209">dhdErrorGetLastStr</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Read the linear velocity.</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a8"></a><a class="code" href="dhdc_8h.html#a2a29fb157bbcd49cd1807a5febf314e7">dhdGetLinearVelocity</a>(&amp;vx, &amp;vy, &amp;vz) &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;error: failed to read linear velocity (&quot;</span> &lt;&lt; <a class="code" href="dhdc_8h.html#aa493832a39c7e31b44752bda5d601209">dhdErrorGetLastStr</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        deviceLinearVelocity.set(vx, vy, vz);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Read the angular velocity.</span></div>
<div class="line">        <span class="keywordflow">if</span> (<a name="a9"></a><a class="code" href="dhdc_8h.html#ac712aa9c49acad0e9e30c28b732fc5ca">dhdGetAngularVelocityRad</a>(&amp;wx, &amp;wy, &amp;wz) &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; std::endl &lt;&lt; <span class="stringliteral">&quot;error: failed to read gripper angle (&quot;</span> &lt;&lt; <a class="code" href="dhdc_8h.html#aa493832a39c7e31b44752bda5d601209">dhdErrorGetLastStr</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line">        deviceAngularVelocity.set(wx, wy, wz);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Read user switches.</span></div>
<div class="line">        deviceSwitches = <a name="a10"></a><a class="code" href="dhdc_8h.html#a5fbdfdb991ebe0faa92f1bcaffde5a75">dhdGetButtonMask</a>();</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">        ////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Move the frame.</span></div>
<div class="line">        <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">        ////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">        <span class="keywordflow">if</span> (chai3d::cCheckBit(deviceSwitches, 0))</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (flagMoveFrame)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Compute the tranformation matrix from World to Device.</span></div>
<div class="line">                chai3d::cTransform world_T_device;</div>
<div class="line">                world_T_device.set(devicePosition, deviceRotation);</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Compute the new position of the Frame.</span></div>
<div class="line">                chai3d::cTransform world_T_frame = world_T_device * device_T_frame;</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Apply values to frame.</span></div>
<div class="line">                framePosition = world_T_frame.getLocalPos();</div>
<div class="line">                frameRotation = world_T_frame.getLocalRot();</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Compute the tranformation matrix from World to Device.</span></div>
<div class="line">                chai3d::cTransform world_T_device;</div>
<div class="line">                world_T_device.set(devicePosition, deviceRotation);</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Compute the tranformation matrix from World to Frame.</span></div>
<div class="line">                chai3d::cTransform world_T_frame;</div>
<div class="line">                world_T_frame.set(framePosition, frameRotation);</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Compute the tranformation matrix from Device to World.</span></div>
<div class="line">                chai3d::cTransform device_T_world = world_T_device;</div>
<div class="line">                device_T_world.invert();</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Compute the transformation matrix from Device to Frame.</span></div>
<div class="line">                device_T_frame = device_T_world * world_T_frame;</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Enable frame motion.</span></div>
<div class="line">                flagMoveFrame = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            <span class="comment">// enable frame motion</span></div>
<div class="line">            flagMoveFrame = <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">        ////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Compute interaction forces.</span></div>
<div class="line">        <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">        ////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">        <span class="comment">// Apply zero force by default.</span></div>
<div class="line">        deviceForce.zero();</div>
<div class="line">        deviceTorque.zero();</div>
<div class="line">        deviceGripperForce = 0.0;</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Define stiffness and damping used to constrain the device position and rotation.</span></div>
<div class="line">        constexpr <span class="keywordtype">double</span> Kp = 2000.0;  <span class="comment">// N/m</span></div>
<div class="line">        constexpr <span class="keywordtype">double</span> Kv = 10.0;    <span class="comment">// N/(m/s)</span></div>
<div class="line">        constexpr <span class="keywordtype">double</span> Kr = 5.0;     <span class="comment">// [Nm/rad]</span></div>
<div class="line">        constexpr <span class="keywordtype">double</span> Kw = 0.05;    <span class="comment">// [Nm/(rad/s)]</span></div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Compute the force required to hold device in position if required.</span></div>
<div class="line">        <span class="keywordflow">if</span> (flagHoldPosition)</div>
<div class="line">        {</div>
<div class="line">            <span class="keywordflow">if</span> (flagHoldPositionReady)</div>
<div class="line">            {</div>
<div class="line">                <span class="comment">// Compute reaction force.</span></div>
<div class="line">                chai3d::cVector3d force = -Kp * (devicePosition - holdPosition) - Kv * deviceLinearVelocity;</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Compute reaction torque.</span></div>
<div class="line">                chai3d::cMatrix3d deltaRotation = chai3d::cTranspose(deviceRotation) * holdRotation;</div>
<div class="line">                chai3d::cVector3d axis;</div>
<div class="line">                <span class="keywordtype">double</span> angle = 0.0;</div>
<div class="line">                deltaRotation.toAxisAngle(axis, angle);</div>
<div class="line">                chai3d::cVector3d torque = deviceRotation * ((Kr * angle) * axis) - Kw * deviceAngularVelocity;</div>
<div class="line"> </div>
<div class="line">                <span class="comment">// Add all forces together.</span></div>
<div class="line">                deviceForce = deviceForce + force;</div>
<div class="line">                deviceTorque = deviceTorque + torque;</div>
<div class="line">            }</div>
<div class="line">            <span class="keywordflow">else</span></div>
<div class="line">            {</div>
<div class="line">                holdPosition = devicePosition;</div>
<div class="line">                holdRotation = deviceRotation;</div>
<div class="line">                flagHoldPositionReady = <span class="keyword">true</span>;</div>
<div class="line">            }</div>
<div class="line">        }</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">        ////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span>        <span class="comment">//</span></div>
<div class="line">        <span class="comment">// Send force and torque to the haptic device.</span></div>
<div class="line">        <span class="comment">//</span><span class="comment"></span></div>
<div class="line"><span class="comment">        ////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line">        <span class="comment">// Limit the torque to a maximum value.</span></div>
<div class="line">        constexpr <span class="keywordtype">double</span> MaxTorque = 0.3;</div>
<div class="line">        <span class="keywordflow">if</span> (deviceTorque.length() &gt; MaxTorque)</div>
<div class="line">        {</div>
<div class="line">            deviceTorque = MaxTorque * chai3d::cNormalize(deviceTorque);</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Apply force and torque all at once.</span></div>
<div class="line">        <span class="keywordtype">int</span> error = <a name="a11"></a><a class="code" href="dhdc_8h.html#a0dd37d7a6b608daee45b86c9ea48f1ad">dhdSetForceAndTorqueAndGripperForce</a>(deviceForce(0), deviceForce(1), deviceForce(2),</div>
<div class="line">                                                        deviceTorque(0), deviceTorque(1), deviceTorque(2),</div>
<div class="line">                                                        deviceGripperForce);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Check for if any force saturation occurred.</span></div>
<div class="line">        <span class="keywordflow">if</span> (error == 2)</div>
<div class="line">        {</div>
<div class="line">            flagSaturation = <span class="keyword">true</span>;</div>
<div class="line">        }</div>
<div class="line">        <span class="keywordflow">else</span></div>
<div class="line">        {</div>
<div class="line">            flagSaturation = <span class="keyword">false</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Flag the simulation as having finished.</span></div>
<div class="line">    simulationRunning = <span class="keyword">false</span>;</div>
<div class="line">    simulationFinished = <span class="keyword">true</span>;</div>
<div class="line">    <span class="keywordflow">return</span> <span class="keyword">nullptr</span>;</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// This function is called when the application exits.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="keywordtype">void</span> onExit()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Wait for the haptic loop to finish.</span></div>
<div class="line">    simulationRunning = <span class="keyword">false</span>;</div>
<div class="line">    <span class="keywordflow">while</span> (!simulationFinished)</div>
<div class="line">    {</div>
<div class="line">        <a name="a12"></a><a class="code" href="dhdc_8h.html#a6bf00afebdd74ec809698a0ee94d3a3b">dhdSleep</a>(0.1);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Close the connection to the haptic device.</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a13"></a><a class="code" href="dhdc_8h.html#a42388a26aa14cb291eedcebb7029d688">dhdClose</a>() &lt; 0)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;error: failed to close the connection (&quot;</span> &lt;&lt; <a class="code" href="dhdc_8h.html#aa493832a39c7e31b44752bda5d601209">dhdErrorGetLastStr</a>() &lt;&lt; <span class="stringliteral">&quot;)&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Report success.</span></div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;connection closed&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// This function is called when the GLFW window is resized.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// \note See GLFW documentation for a description of the parameters.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="keywordtype">void</span> onWindowResized(GLFWwindow* a_window,</div>
<div class="line">                     <span class="keywordtype">int</span> a_width,</div>
<div class="line">                     <span class="keywordtype">int</span> a_height)</div>
<div class="line">{</div>
<div class="line">    windowWidth = a_width;</div>
<div class="line">    windowHeight = a_height;</div>
<div class="line">    <span class="keywordtype">double</span> glAspect = (<span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(a_width) / <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span>(a_height));</div>
<div class="line"> </div>
<div class="line">    glViewport(0, 0, a_width, a_height);</div>
<div class="line">    glMatrixMode(GL_PROJECTION);</div>
<div class="line">    glLoadIdentity();</div>
<div class="line">    gluPerspective(60, glAspect, 0.01, 10);</div>
<div class="line">    gluLookAt(0.2, 0.0, 0.0,</div>
<div class="line">              0.0, 0.0, 0.0,</div>
<div class="line">              0.0, 0.0, 1.0);</div>
<div class="line">    glMatrixMode(GL_MODELVIEW);</div>
<div class="line">    glLoadIdentity();</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// This function is called when a key is pressed in the GLFW window.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// \note See GLFW documentation for a description of the parameters.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="keywordtype">void</span> onKeyPressed(GLFWwindow* a_window,</div>
<div class="line">                  <span class="keywordtype">int</span> a_key,</div>
<div class="line">                  <span class="keywordtype">int</span> a_scanCode,</div>
<div class="line">                  <span class="keywordtype">int</span> a_action,</div>
<div class="line">                  <span class="keywordtype">int</span> a_modifiers)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Ignore all keyboard events that are not key presses.</span></div>
<div class="line">    <span class="keywordflow">if</span> (a_action != GLFW_PRESS)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Detect exit requests.</span></div>
<div class="line">    <span class="keywordflow">if</span> ((a_key == GLFW_KEY_ESCAPE) || (a_key == GLFW_KEY_Q))</div>
<div class="line">    {</div>
<div class="line">        exit(0);</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Toggle hold device in position.</span></div>
<div class="line">    <span class="keywordflow">if</span> (a_key == GLFW_KEY_H)</div>
<div class="line">    {</div>
<div class="line">        flagHoldPosition = !flagHoldPosition;</div>
<div class="line">        flagHoldPositionReady = <span class="keyword">false</span>;</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// This function is called when the GLFW library reports an error.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// \note See GLFW documentation for a description of the parameters.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="keywordtype">void</span> onError(<span class="keywordtype">int</span> a_error,</div>
<div class="line">             <span class="keyword">const</span> <span class="keywordtype">char</span>* a_description)</div>
<div class="line">{</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;error: &quot;</span> &lt;&lt; a_description &lt;&lt; std::endl;</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// This function initializes the GLFW window.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// \return</span></div>
<div class="line"><span class="comment">/// 0 on success, -1 on failure.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="keywordtype">int</span> initializeGLFW()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Initialize the GLFW library.</span></div>
<div class="line">    <span class="keywordflow">if</span> (!glfwInit())</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set the error callback.</span></div>
<div class="line">    glfwSetErrorCallback(onError);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Compute the desired window size.</span></div>
<div class="line">    <span class="keyword">const</span> GLFWvidmode* mode = glfwGetVideoMode(glfwGetPrimaryMonitor());</div>
<div class="line">    windowWidth = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(0.8 *  mode-&gt;height);</div>
<div class="line">    windowHeight = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(0.5 * mode-&gt;height);</div>
<div class="line">    <span class="keywordtype">int</span> x = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(0.5 * (mode-&gt;width - windowWidth));</div>
<div class="line">    <span class="keywordtype">int</span> y = <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(0.5 * (mode-&gt;height - windowHeight));</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Configure OpenGL rendering.</span></div>
<div class="line">    glfwWindowHint(GLFW_CONTEXT_VERSION_MAJOR, 2);</div>
<div class="line">    glfwWindowHint(GLFW_CONTEXT_VERSION_MINOR, 1);</div>
<div class="line">    glfwWindowHint(GLFW_DOUBLEBUFFER, GLFW_TRUE);</div>
<div class="line">    glfwWindowHint(GLFW_SAMPLES, 4);</div>
<div class="line">    glfwWindowHint(GLFW_STEREO, GL_FALSE);</div>
<div class="line">    glfwWindowHint(GLFW_VISIBLE, GL_FALSE);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Apply platform-specific settings.</span></div>
<div class="line"><span class="preprocessor">#ifdef MACOSX</span></div>
<div class="line"> </div>
<div class="line">    glfwWindowHint(GLFW_COCOA_RETINA_FRAMEBUFFER, GL_FALSE);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create the GLFW window and OpenGL display context.</span></div>
<div class="line">    window = glfwCreateWindow(windowWidth, windowHeight, <span class="stringliteral">&quot;Force Dimension - OpenGL Sphere Example&quot;</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (!window)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line">    glfwMakeContextCurrent(window);</div>
<div class="line">    glfwSetKeyCallback(window, onKeyPressed);</div>
<div class="line">    glfwSetWindowSizeCallback(window, onWindowResized);</div>
<div class="line">    glfwSetWindowPos(window, x, y);</div>
<div class="line">    glfwSwapInterval(SwapInterval);</div>
<div class="line">    glfwShowWindow(window);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Adjust initial window size</span></div>
<div class="line">    onWindowResized(window, windowWidth, windowHeight);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set material properties.</span></div>
<div class="line">    GLfloat mat_ambient[] = { 0.5f, 0.5f, 0.5f };</div>
<div class="line">    GLfloat mat_diffuse[] = { 0.5f, 0.5f, 0.5f };</div>
<div class="line">    GLfloat mat_specular[] = { 0.5f, 0.5f, 0.5f };</div>
<div class="line">    glMaterialfv(GL_FRONT_AND_BACK, GL_AMBIENT, mat_ambient);</div>
<div class="line">    glMaterialfv(GL_FRONT_AND_BACK, GL_DIFFUSE, mat_diffuse);</div>
<div class="line">    glMaterialfv(GL_FRONT_AND_BACK, GL_SPECULAR, mat_specular);</div>
<div class="line">    glMaterialf(GL_FRONT_AND_BACK, GL_SHININESS, 1.0);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Set light sources.</span></div>
<div class="line">    GLfloat ambient[] = { 0.5f, 0.5f, 0.5f, 1.0f };</div>
<div class="line">    GLfloat diffuse[] = { 0.8f, 0.8f, 0.8f, 1.0f };</div>
<div class="line">    GLfloat specular[] = { 1.0f, 1.0f, 1.0f, 1.0f };</div>
<div class="line">    glLightfv(GL_LIGHT0, GL_AMBIENT, ambient);</div>
<div class="line">    glLightfv(GL_LIGHT0, GL_DIFFUSE, diffuse);</div>
<div class="line">    glLightfv(GL_LIGHT0, GL_SPECULAR, specular);</div>
<div class="line">    glLightf(GL_LIGHT0, GL_CONSTANT_ATTENUATION, 1.0);</div>
<div class="line">    glLightf(GL_LIGHT0, GL_LINEAR_ATTENUATION, 0.0);</div>
<div class="line">    glLightf(GL_LIGHT0, GL_QUADRATIC_ATTENUATION, 0.0);</div>
<div class="line"> </div>
<div class="line">    GLfloat lightPos[] = { 2.0, 0.0, 0.0, 1.0f };</div>
<div class="line">    GLfloat lightDir[] = { -1.0, 0.0, 0.0, 1.0f };</div>
<div class="line">    glLightfv(GL_LIGHT0, GL_POSITION, lightPos);</div>
<div class="line">    glLightfv(GL_LIGHT0, GL_SPOT_DIRECTION, lightDir);</div>
<div class="line">    glLightf(GL_LIGHT0, GL_SPOT_CUTOFF, 180);</div>
<div class="line">    glLightf(GL_LIGHT0, GL_SPOT_EXPONENT, 1.0);</div>
<div class="line">    glEnable(GL_LIGHTING);</div>
<div class="line">    glEnable(GL_LIGHT0);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// This function initializes the haptic device.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// \return</span></div>
<div class="line"><span class="comment">/// 0 on success, -1 on failure.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="keywordtype">int</span> initializeHaptics()</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Open the first available haptic device.</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a14"></a><a class="code" href="dhdc_8h.html#ac47b700c1bdb9d46b1005f1cfabb7607">dhdOpen</a>() &lt; 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Enable button emulation on devices with an active gripper.</span></div>
<div class="line">    <span class="keywordflow">if</span> (<a name="a15"></a><a class="code" href="dhdc_8h.html#a89cfe26f64150f8829daa35d9a302dc8">dhdHasActiveGripper</a>() &amp;&amp; <a name="a16"></a><a class="code" href="dhdc_8h.html#aa23bc77b009e020c05ef725eb533b60c">dhdEmulateButton</a>(<a class="code" href="dhdc_8h.html#ac60746c35e60ad4c5533dec253a341f1">DHD_ON</a>) &lt; 0)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// This function initializes the simulation.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">/// \return</span></div>
<div class="line"><span class="comment">/// 0 on success, -1 on failure.</span></div>
<div class="line"><span class="comment">///</span></div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="keywordtype">int</span> initializeSimulation()</div>
<div class="line">{</div>
<div class="line">    framePosition.set(0.0, 0.0, 0.0);</div>
<div class="line">    frameRotation.identity();</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="comment">////////////////////////////////////////////////////////////////////////////////</span></div>
<div class="line"><span class="comment"></span> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> argc,</div>
<div class="line">         <span class="keywordtype">char</span>* argv[])</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Display version information.</span></div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;OpenGL Transformations Example &quot;</span> &lt;&lt; <a name="a17"></a><a class="code" href="dhdc_8h.html#a922e46d7c95f29648069c8f47d4c4a99">dhdGetSDKVersionStr</a>() &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;Copyright (C) 2001-2023 Force Dimension&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;All Rights Reserved.&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Find and open a connection to a haptic device.</span></div>
<div class="line">    <span class="keywordflow">if</span> (initializeHaptics() &lt; 0)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;error: failed to initialize haptics&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Open a GLFW window to render the simulation.</span></div>
<div class="line">    <span class="keywordflow">if</span> (initializeGLFW() &lt; 0)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;error: failed to initialize GLFW&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialize simulation objects.</span></div>
<div class="line">    <span class="keywordflow">if</span> (initializeSimulation() &lt; 0)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;error: failed to initialize the simulation&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">        <span class="keywordflow">return</span> -1;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Create a high priority haptic thread.</span></div>
<div class="line"><span class="preprocessor">#if defined(WIN32) || defined(WIN64)</span></div>
<div class="line"> </div>
<div class="line">    DWORD threadHandle;</div>
<div class="line">    CreateThread(<span class="keyword">nullptr</span>, 0, (LPTHREAD_START_ROUTINE)(hapticsLoop), <span class="keyword">nullptr</span>, 0x0000, &amp;threadHandle);</div>
<div class="line">    SetThreadPriority(&amp;threadHandle, THREAD_PRIORITY_ABOVE_NORMAL);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#else</span></div>
<div class="line"> </div>
<div class="line">    pthread_t threadHandle;</div>
<div class="line">    pthread_create(&amp;threadHandle, <span class="keyword">nullptr</span>, hapticsLoop, <span class="keyword">nullptr</span>);</div>
<div class="line">    <span class="keyword">struct </span>sched_param schedulerParameters;</div>
<div class="line">    memset(&amp;schedulerParameters, 0, <span class="keyword">sizeof</span>(<span class="keyword">struct</span> sched_param));</div>
<div class="line">    schedulerParameters.sched_priority = 10;</div>
<div class="line">    pthread_setschedparam(threadHandle, SCHED_RR, &amp;schedulerParameters);</div>
<div class="line"> </div>
<div class="line"><span class="preprocessor">#endif</span></div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Register a callback that stops the haptic thread when the application exits.</span></div>
<div class="line">    atexit(onExit);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Display user instructions.</span></div>
<div class="line">    std::cout &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;press &#39;r&#39; to toggle display of the haptic rate&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;      &#39;q&#39; to quit&quot;</span> &lt;&lt; std::endl &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Main graphic loop</span></div>
<div class="line">    <span class="keywordflow">while</span> (simulationRunning &amp;&amp; !glfwWindowShouldClose(window))</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Render graphics.</span></div>
<div class="line">        <span class="keywordflow">if</span> (updateGraphics() &lt; 0)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; <span class="stringliteral">&quot;error: failed to update graphics&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">            <span class="keywordflow">break</span>;</div>
<div class="line">        }</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Swap buffers.</span></div>
<div class="line">        glfwSwapBuffers(window);</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Process GLFW events.</span></div>
<div class="line">        glfwPollEvents();</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Close the GLFW window.</span></div>
<div class="line">    glfwDestroyWindow(window);</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Close the GLFW library.</span></div>
<div class="line">    glfwTerminate();</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Report success.</span></div>
<div class="line">    <span class="keywordflow">return</span> 0;</div>
<div class="line">}</div>
</div><!-- fragment --> </div><!-- contents -->
<div class="ttc" id="adhdc_8h_html_a2a29fb157bbcd49cd1807a5febf314e7"><div class="ttname"><a href="dhdc_8h.html#a2a29fb157bbcd49cd1807a5febf314e7">dhdGetLinearVelocity</a></div><div class="ttdeci">int __SDK dhdGetLinearVelocity(double *vx, double *vy, double *vz, char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:2179</div></div>
<div class="ttc" id="adhdc_8h_html_ac712aa9c49acad0e9e30c28b732fc5ca"><div class="ttname"><a href="dhdc_8h.html#ac712aa9c49acad0e9e30c28b732fc5ca">dhdGetAngularVelocityRad</a></div><div class="ttdeci">int __SDK dhdGetAngularVelocityRad(double *wx, double *wy, double *wz, char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:2258</div></div>
<div class="ttc" id="adhdc_8h_html_ac60746c35e60ad4c5533dec253a341f1"><div class="ttname"><a href="dhdc_8h.html#ac60746c35e60ad4c5533dec253a341f1">DHD_ON</a></div><div class="ttdeci">#define DHD_ON</div><div class="ttdef"><b>Definition:</b> dhdc.h:126</div></div>
<div class="ttc" id="adhdc_8h_html_a4e6e5502f908607bfdf1e017d7fa76ec"><div class="ttname"><a href="dhdc_8h.html#a4e6e5502f908607bfdf1e017d7fa76ec">dhdGetPositionAndOrientationFrame</a></div><div class="ttdeci">int __SDK dhdGetPositionAndOrientationFrame(double *px, double *py, double *pz, double matrix[3][3], char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:1911</div></div>
<div class="ttc" id="adhdc_8h_html_a9a0134b031864add74e6b856f70ee950ab20fde5acabe7cdc218a75b428ccb782"><div class="ttname"><a href="dhdc_8h.html#a9a0134b031864add74e6b856f70ee950ab20fde5acabe7cdc218a75b428ccb782">DHD_NO_ERROR</a></div><div class="ttdeci">@ DHD_NO_ERROR</div><div class="ttdef"><b>Definition:</b> dhdc.h:54</div></div>
<div class="ttc" id="adhdc_8h_html_aa493832a39c7e31b44752bda5d601209"><div class="ttname"><a href="dhdc_8h.html#aa493832a39c7e31b44752bda5d601209">dhdErrorGetLastStr</a></div><div class="ttdeci">const char *__SDK dhdErrorGetLastStr()</div><div class="ttdef"><b>Definition:</b> dhdError.cpp:197</div></div>
<div class="ttc" id="adhdc_8h_html_a0d6e8910c43db85d70851460eaf999f4"><div class="ttname"><a href="dhdc_8h.html#a0d6e8910c43db85d70851460eaf999f4">dhdGetGripperAngleDeg</a></div><div class="ttdeci">int __SDK dhdGetGripperAngleDeg(double *a, char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:4836</div></div>
<div class="ttc" id="adhdc_8h_html_a076243abe321a97f4ea022b8bbcb3503"><div class="ttname"><a href="dhdc_8h.html#a076243abe321a97f4ea022b8bbcb3503">dhdGetComFreq</a></div><div class="ttdeci">double __SDK dhdGetComFreq(char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:4636</div></div>
<div class="ttc" id="adhdc_8h_html_a0dd37d7a6b608daee45b86c9ea48f1ad"><div class="ttname"><a href="dhdc_8h.html#a0dd37d7a6b608daee45b86c9ea48f1ad">dhdSetForceAndTorqueAndGripperForce</a></div><div class="ttdeci">int __SDK dhdSetForceAndTorqueAndGripperForce(double fx, double fy, double fz, double tx, double ty, double tz, double fg, char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:2028</div></div>
<div class="ttc" id="adhdc_8h_html"><div class="ttname"><a href="dhdc_8h.html">dhdc.h</a></div><div class="ttdoc">DHD header file.</div></div>
<div class="ttc" id="adhdc_8h_html_a178cf9ffa46dfe3d25dda74ecb34da31"><div class="ttname"><a href="dhdc_8h.html#a178cf9ffa46dfe3d25dda74ecb34da31">dhdEnableForce</a></div><div class="ttdeci">int __SDK dhdEnableForce(uchar val, char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:4360</div></div>
<div class="ttc" id="adhdc_8h_html_a42388a26aa14cb291eedcebb7029d688"><div class="ttname"><a href="dhdc_8h.html#a42388a26aa14cb291eedcebb7029d688">dhdClose</a></div><div class="ttdeci">int __SDK dhdClose(char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:443</div></div>
<div class="ttc" id="adhdc_8h_html_aa23bc77b009e020c05ef725eb533b60c"><div class="ttname"><a href="dhdc_8h.html#aa23bc77b009e020c05ef725eb533b60c">dhdEmulateButton</a></div><div class="ttdeci">int __SDK dhdEmulateButton(uchar val, char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:2929</div></div>
<div class="ttc" id="adhdc_8h_html_ac47b700c1bdb9d46b1005f1cfabb7607"><div class="ttname"><a href="dhdc_8h.html#ac47b700c1bdb9d46b1005f1cfabb7607">dhdOpen</a></div><div class="ttdeci">int __SDK dhdOpen()</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:265</div></div>
<div class="ttc" id="adhdc_8h_html_a6bf00afebdd74ec809698a0ee94d3a3b"><div class="ttname"><a href="dhdc_8h.html#a6bf00afebdd74ec809698a0ee94d3a3b">dhdSleep</a></div><div class="ttdeci">void __SDK dhdSleep(double sec)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:4736</div></div>
<div class="ttc" id="adhdc_8h_html_a89cfe26f64150f8829daa35d9a302dc8"><div class="ttname"><a href="dhdc_8h.html#a89cfe26f64150f8829daa35d9a302dc8">dhdHasActiveGripper</a></div><div class="ttdeci">bool __SDK dhdHasActiveGripper(char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:718</div></div>
<div class="ttc" id="adhdc_8h_html_a5fbdfdb991ebe0faa92f1bcaffde5a75"><div class="ttname"><a href="dhdc_8h.html#a5fbdfdb991ebe0faa92f1bcaffde5a75">dhdGetButtonMask</a></div><div class="ttdeci">uint __SDK dhdGetButtonMask(char ID=-1)</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:1209</div></div>
<div class="ttc" id="adhdc_8h_html_a922e46d7c95f29648069c8f47d4c4a99"><div class="ttname"><a href="dhdc_8h.html#a922e46d7c95f29648069c8f47d4c4a99">dhdGetSDKVersionStr</a></div><div class="ttdeci">const char *__SDK dhdGetSDKVersionStr()</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:917</div></div>
<div class="ttc" id="adhdc_8h_html_ad88cff8031c7975479332a9a58aca158"><div class="ttname"><a href="dhdc_8h.html#ad88cff8031c7975479332a9a58aca158">dhdGetTime</a></div><div class="ttdeci">double __SDK dhdGetTime()</div><div class="ttdef"><b>Definition:</b> dhdc.cpp:190</div></div>
<address class="separator"><hr>
</address>
<address class="footer">
<font size=-2>
<b>Haptic SDK 3.16.1 documentation</b><br>
Please address any questions to <a href="mailto:support@forcedimension.com">support@forcedimension.com</a><br>(C) 2001-2023 - <a href="http://www.forcedimension.com">Force Dimension</a><br>
All Rights Reserved.
</font>
</address>
</body>
</html>
